---
title: "Compresión de imágenes y vídeos usando wavelets"
subtitle: "Análisis de Señales. Máster en Ciencia de Datos - UV"
author: "Adrián Carrasco, Clara Montalvá, Javier Herrero, Fabián Calvo y Juan Alcaraz"
date: "Curso 2025-2026"
output:
  html_document:
    echo: true
    number_sections: true
    theme: lumen
    toc: true
  pdf_document:
    toc: true
    toc_depth: 3
    number_sections: true
  bookdown::html_document2:
    echo: true
    number_sections: true
    theme: spacelab
    toc: true
    figure_caption: "Figura"
    table_caption: "Tabla"
  html_notebook:
    echo: true
    number_sections: true
    toc: true
  bookdown::pdf_document2:
    toc: true
    toc_depth: 3
    number_sections: true
    figure_caption: "Figura" # Referencias en castellano
    table_caption: "Tabla"
always_allow_html: true
params:
  lang: spanish
lang: "`r switch(params$lang, ES = 'es-ES', EN = 'en-US')`"
language:
  label:
    fig: 'Figura '
    tab: 'Tabla '
    eq: 'Ecuación '
    thm: 'Teorema '
    lem: 'Lema '
    def: 'Definición '
    cor: 'Corolario '
    prp: 'Proposición '
    exm: 'Ejemplo '
    exr: 'Ejercicio '
    proof: 'Demostración. '
    remark: 'Nota: '
    solution: 'Solución. '
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
require("imager", quietly = TRUE)
require("wavethresh", quietly = TRUE)
require("waveslim", quietly = TRUE)
require("magick", quietly = TRUE)
```

# Introducción

# Revisión bibliográfica

# Objetivos

# Descripción de los datos

Para evaluar la eficacia de los algoritmos de compresión, hemos seleccionado un conjunto de cuatro imágenes realizadas por nosotros mismos con características visuales distintas para observar cómo responden los métodos ante diferentes niveles de entropía, detalle y origen de los datos.

La primera fotografía escogida es de un acantilado, que al ser dominada por el azul del mar y el cielo, cuenta con grandes zonas de color uniforme. Esto nos permite evaluar la eficiencia de la compresión en imágenes con "poca información" aparente o redundancia, donde los algoritmos deberían optimizar mejor el peso del archivo.

La segunda imagen contiene una gran variedad de colores y tonos a lo largo de toda la imagen, ya que se trata de una fotografía a distintas flores. Al contrario que la anterior, esta imagen sirve para probar cómo los algoritmos gestionan la retención del color y la nitidez en zonas con mucha información visual y cambios de color constantes.

La tercera fotografía se trata de una imagen nocturna de una avenida, utilizada para analizar qué ocurre en condiciones de poca luz. En estas imágenes suele aparecer ruido digital y sombras, lo que supone un reto donde la pérdida de información suele ser más evidente tras aplicar los procesos de compresión.

Por último, se escogió una imagen generada mediante Inteligencia Artificial recreando a los cinco miembros del grupo al estilo de Estudio Ghibli. Al no estar capturada por una cámara real, sino generada digitalmente, posee bordes definidos y colores planos que nos sirven para comparar cómo se comporta la compresión en creación digital.


```{r, include=FALSE}
ruta_acantilado<-"im_2/acantilado.jpg"
ruta_flores<-"im_2/flores.jpg"
ruta_noche<-"im_2/noche.jpg"
ruta_dibujo<-"im_2/dibujo.PNG"

acantilado<-load.image(ruta_acantilado)
flores<-load.image(ruta_flores)
noche<-load.image(ruta_noche)
dibujo<-load.image(ruta_dibujo)
```


```{r, include=FALSE}
par(mfrow = c(2, 2), mar = c(0.25, 0.25, 0.25, 0.25)) 

plot(acantilado, axes=F)
plot(flores, axes=F)
plot(noche, axes=F)
plot(dibujo, axes=F)
```




# Metodología


```{r, include=FALSE}
source("compresion_IDWT.R")
source("compresion_DCT.R")
source("metricas.R")
```

```{r}
acantilado_IDWT<-compresion_IDWT(ruta_acantilado)
flores_IDWT<-compresion_IDWT(ruta_flores)
noche_IDWT<-compresion_IDWT(ruta_noche)
dibujo_IDWT<-compresion_IDWT(ruta_dibujo)
```

```{r}
acantilado_IDWT<-comprobacion_dim(acantilado, acantilado_IDWT)
flores_IDWT<-comprobacion_dim(flores, flores_IDWT)
noche_IDWT<-comprobacion_dim(noche, noche_IDWT)
dibujo_IDWT<-comprobacion_dim(dibujo, dibujo_IDWT)
```

```{r}
par(mfrow = c(2, 2), mar = c(0.25, 0.25, 0.25, 0.25)) 

plot(acantilado_IDWT, axes=F)
plot(flores_IDWT, axes=F)
plot(noche_IDWT, axes=F)
plot(dibujo_IDWT, axes=F)
```

```{r}
acantilado_DCT<-compresion_DCT(ruta_acantilado)
flores_DCT<-compresion_DCT(ruta_flores)
noche_DCT<-compresion_DCT(ruta_noche)
dibujo_DCT<-compresion_DCT(ruta_dibujo)
```

```{r}
par(mfrow = c(2, 2), mar = c(0.25, 0.25, 0.25, 0.25)) 

plot(acantilado_DCT, axes=F)
plot(flores_DCT, axes=F)
plot(noche_DCT, axes=F)
plot(dibujo_DCT, axes=F)
```

# Resultados

```{r}
MSE(acantilado, acantilado_IDWT)
MSE(acantilado, acantilado_DCT)
```
```{r}
MSE(flores, flores_IDWT)
MSE(flores, flores_DCT)
```

```{r}
MSE(noche, noche_IDWT)
MSE(noche, noche_DCT)
```

```{r}
MSE(dibujo, dibujo_IDWT)
MSE(dibujo, dibujo_DCT)
```

```{r}
PSNR(acantilado, acantilado_IDWT)
PSNR(acantilado, acantilado_DCT)
```
```{r}
PSNR(flores, flores_IDWT)
PSNR(flores, flores_DCT)
```

```{r}
PSNR(noche, noche_IDWT)
PSNR(noche, noche_DCT)
```

```{r}
PSNR(dibujo, dibujo_IDWT)
PSNR(dibujo, dibujo_DCT)
```

```{r}
CR(ruta_acantilado, "data_comp/acantilado_IDWT.jpg")
CR(ruta_acantilado, "data_comp/acantilado_DCT.jpg")
```
```{r}
CR(ruta_flores, "data_comp/flores_IDWT.jpg")
CR(ruta_flores, "data_comp/flores_DCT.jpg")
```

```{r}
CR(ruta_noche, "data_comp/noche_IDWT.jpg")
CR(ruta_noche, "data_comp/noche_DCT.jpg")
```

```{r}
CR(ruta_dibujo, "data_comp/dibujo_IDWT.jpg")
CR(ruta_dibujo, "data_comp/dibujo_DCT.jpg")
```

# Conclusiones

# Link del repositorio

https://github.com/JuanAlcarazAED/Trabajo_AS.git
